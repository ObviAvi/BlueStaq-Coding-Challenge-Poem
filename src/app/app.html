<div class="container">
  <!-- Search Bar -->
  <div class="search-bar">
    <input [(ngModel)]="authorValue" placeholder="Search by author..." />
    <input [(ngModel)]="titleValue" placeholder="Search by title..." />
    <button class="enter-btn" type="button" (click)="searchPoems()">Enter</button>
  </div>

  <!-- Status Messages -->
  <div *ngIf="isLoading" class="loading">Loading...</div>
  <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  <p class="no-results" *ngIf="noResults">No poems found.</p>

  <!-- Book -->
  <div class="book-container" *ngIf="poems.length > 0">
    <div class="book-wrapper">
      <!-- Left Page -->
      <div class="book-page left-page">
        <div class="poems-grid">
          <div class="poem-card" *ngFor="let poem of currentPagePoems[0]; let i = index">
            <h2 class="poem-title">{{ poem.title }}</h2>
            <p class="poem-author">{{ poem.author }}</p>
            <div class="poem-preview">
              {{ poem.lines.slice(0,3).join('\n') }}
              <span *ngIf="poem.lines.length > 3">...</span>
            </div>
            <button class="read-btn" (click)="openPoemModal(poem)">Read more</button>
          </div>
        </div>
      </div>
      
      <!-- Right Page -->
      <div class="book-page right-page">
        <div class="poems-grid">
          <div class="poem-card" *ngFor="let poem of currentPagePoems[1]; let i = index">
            <h2 class="poem-title">{{ poem.title }}</h2>
            <p class="poem-author">{{ poem.author }}</p>
            <div class="poem-preview">
              {{ poem.lines.slice(0,3).join('\n') }}
              <span *ngIf="poem.lines.length > 3">...</span>
            </div>
            <button class="read-btn" (click)="openPoemModal(poem)">Read more</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Buttons -->
  <div class="nav-buttons" *ngIf="poems.length > 0">
    <button class="nav-btn" (click)="previousPage()" [disabled]="currentPage === 0">Previous Page</button>
    <button class="nav-btn" (click)="nextPage()" [disabled]="!hasNextPage">Next Page</button>
  </div>

  <!-- Modal -->
  <div class="modal-overlay" [class.show]="selectedPoem">
    <div class="modal-content" *ngIf="selectedPoem">
      <button class="modal-close" (click)="closeModal()">&times;</button>
      <h2 class="modal-title">{{ selectedPoem.title }}</h2>
      <p class="modal-author">{{ selectedPoem.author }}</p>
      <div class="modal-poem">{{ selectedPoem.lines.join('\n') }}</div>
    </div>
  </div>
</div>
